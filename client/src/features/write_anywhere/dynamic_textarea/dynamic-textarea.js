/** README
 * What? Uses position relative to be anywhere createable.
 * 
 * Data comes from write-drag-drop component which also displays this component.
 * - Data in: position, dyna_textarea_id, and content
 */
//////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////
//
//    Imports
 //^
	/////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////
	import { bindable,inject} from 'aurelia-framework'

	import {DragDrop} from '../drag-drop'
	
@inject(Element)
export class DynamicTextarea {
	id;
	// From and for write-drag-drop
	@bindable content
	@bindable position
	@bindable hasfocus
	@bindable dyna_textarea_id
	constructor(element) {
		this.element = element
	}

	created() {
			this.id = this.element.children[0].id
	}

	attached() {
		console.log("in dyn ta")
		DragDrop.nc_rect = document.getElementById("note-container").getBoundingClientRect()
		DragDrop.nc_global = document.getElementById("note-container")
		// DragDrop.m.view.listenToExpansion()
	}

//////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////
//
//    Methods
 //^
	/////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////
	m = {
		view: {
			notes: {
				initDrag: () => {
					DragDrop.m.initDrag(this.element)
				}
			}
		}
	}
}
