<template > 
    <require from="./dynamic_textarea/dynamic-textarea"></require>
    <require from='../../../stylesheets/write-drag-drop.css'></require>
    <require from="../connect_areas/connect-areas" ></require>

    <button class="btn btn-outline-secondary" click.delegate="delegateToParent()">Save Changes </button>
    <button class="btn btn-outline-secondary" click.delegate="m.draggable.makeDraggableToggle()">Draggable is ${draggableToggle?'on':'off'}</button>
    <button class="btn btn-outline-secondary"
        click.delegate="m.topics.reveal()"> 
        Reveal database content
    </button>
    <button class="btn btn-outline-secondary"
        click.delegate="m.topics.validateTopicSchema()"> 
        valid topic schema
    </button>
    <button class="btn btn-outline-secondary"
        click.delegate="m.topics.getTopicFromNotebook()"> 
        Get this topic
    </button>

    <div 
        id="note-container" 
        dblclick.trigger="removeLast()" 
        click.delegate="m.dynamicTextarea.addDynamicChildNote($event)"
        class="dropable write-anywhere" 
        >
        <!-- <connect-areas></connect-areas> 2018-03-27 17:21:12 #TODO uncomment after notbooks routes are finished--> 
        <dynamic-textarea 
            repeat.for="childNotes of childNoteStorage" 
            content.two-way="childNotes.content"
            position.two-way="childNotes.position"
            hasfocus.bind="true"  
            dyna_textarea_id.bind="childNotes.id"
        ></dynamic-textarea>
        ${reveal}
    </div>

</template>
